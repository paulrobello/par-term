[package]
name = "par-term"
version = "0.4.0"
edition = "2024"
authors = ["Paul Robello <probello@gmail.com>"]
description = "Cross-platform GPU-accelerated terminal emulator with inline graphics support (Sixel, iTerm2, Kitty)"
readme = "README.md"
license = "MIT"
repository = "https://github.com/paulrobello/par-term"
homepage = "https://github.com/paulrobello/par-term"
documentation = "https://github.com/paulrobello/par-term/blob/main/README.md"
keywords = ["terminal", "emulator", "tui", "gpu", "graphics"]
categories = ["command-line-utilities", "gui"]
default-run = "par-term"
exclude = [
    "*.sixel",
    "images/",
    "test_*.rs",
    ".github/",
    ".gitignore",
    "CLAUDE.md"
]

[dependencies]
# Terminal emulator core
par-term-emu-core-rust = { version = "0.21.0", default-features = false }

# Window management and rendering
winit = "0.30"
wgpu = { version = "27", features = ["wgsl"] }
bytemuck = { version = "1.14", features = ["derive"] }
swash = "0.2"  # Font rasterization with colored glyph support
fontdb = "0.23"  # Font database for system font discovery and fallback
rustybuzz = "0.20"  # HarfBuzz text shaping for ligatures and complex scripts
unicode-segmentation = "1.12"  # Grapheme cluster detection for proper text boundaries
parking_lot = "0.12.5"

# Async runtime for PTY handling
tokio = { version = "1.49", features = ["full"] }

# Configuration
serde = { version = "1.0", features = ["derive"] }
serde_yaml = "0.9"

# Error handling
anyhow = "1.0"

# Logging
log = "0.4"
env_logger = "0.11"

# Platform-specific directories
dirs = "6.0"

# Clipboard support
arboard = "3.4"

# URL detection and opening
regex = "1.11"
open = "5.3"  # Cross-platform URL opener

# Audio playback for bell sound
rodio = "0.21"

# Desktop notifications
notify-rust = "4.11"

# GUI for settings interface
egui = "0.33"
egui-wgpu = "0.33"
egui-winit = "0.33"
rfd = "0.17"

# Date/time for screenshots
chrono = "0.4"

# Image loading for background images
image = "0.25"

# GLSL to WGSL transpilation for custom shaders
naga = { version = "27", features = ["glsl-in", "wgsl-out"] }

# File watching for shader hot reload
notify = { version = "8.0", default-features = false, features = ["macos_kqueue"] }

# Native window menus
muda = "0.17"

# Linux-specific: GTK for native menus (muda requires gtk feature on Linux)
[target.'cfg(any(target_os = "linux", target_os = "dragonfly", target_os = "freebsd", target_os = "netbsd", target_os = "openbsd"))'.dependencies.muda]
version = "0.17"
features = ["gtk"]

# macOS-specific: Access CAMetalLayer for performance optimization
[target.'cfg(target_os = "macos")'.dependencies]
objc2 = "0.6"
objc2-app-kit = "0.3"
objc2-foundation = "0.3"
objc2-quartz-core = "0.3"
raw-window-handle = "0.6"

[dev-dependencies]
tempfile = "3.24"

[lib]
name = "par_term"
path = "src/lib.rs"

[[bin]]
name = "par-term"
path = "src/main.rs"

[[bin]]
name = "test-cr"
path = "test_cr.rs"

[[bin]]
name = "test-grid"
path = "test_grid.rs"

[profile.release]
opt-level = 3
lto = true
codegen-units = 1
strip = true

[profile.dev]
opt-level = 0
debug = true
